<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>合併揀貨表</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container-fluid py-4">
    <div id="nav-container"></div>
    <div class="card shadow-sm mt-3">
      <div class="card-header bg-primary text-white">
        <h2 class="mb-0"><i class="bi bi-clipboard-check me-2"></i>合併揀貨表 (官網 + 賣貨便)</h2>
      </div>
      <div class="card-body">
        <div class="alert alert-info mb-3" role="alert">
          <i class="bi bi-info-circle me-2"></i>此表格合併了官網訂單與賣貨便訂單的揀貨資料，商品名稱已套用對應設定。
        </div>
        <div class="row mb-3">
          <div class="col-md-8">
            <label for="product-filter" class="form-label">
              <i class="bi bi-search me-1"></i>篩選商品名稱
            </label>
            <input type="text" class="form-control" id="product-filter" placeholder="輸入商品名稱進行篩選...">
          </div>
          <div class="col-md-4 d-flex align-items-end">
            <button id="calculate-total-btn" class="btn btn-success w-100">
              <i class="bi bi-calculator me-1"></i>計算總數
            </button>
          </div>
        </div>
        <div id="total-summary" class="alert alert-success d-none" role="alert">
          <h5 class="alert-heading"><i class="bi bi-check-circle me-2"></i>總數統計</h5>
          <hr>
          <p class="mb-0">
            <strong>商品種類：</strong><span id="total-products" class="ms-2 badge bg-primary">0</span>
            <strong class="ms-4">總數量：</strong><span id="total-quantity" class="ms-2 badge bg-success fs-5">0</span>
          </p>
        </div>
        <div id="loading-message" class="text-center py-5">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">載入中...</span>
          </div>
          <p class="mt-3">正在載入合併揀貨表...</p>
        </div>
        <div id="picking-content" style="display: none;">
          <div class="table-responsive">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>商品名稱</th>
                  <th>總數量</th>
                  <th>來源</th>
                </tr>
              </thead>
              <tbody id="picking-list">
                <!-- Picking list items will be dynamically inserted here -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/main.js"></script>
  <script src="js/nav.js"></script>
  <script src="js/combined-picking.js"></script>
</body>
</html>
